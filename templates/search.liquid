{% assign meths = "order_by_price_asc|order_by_price_desc|order_by_name_asc|order_by_name_desc" | split: "|" %}
{% assign order =  params["filter"] %}
{% unless meths contains order %}{% assign order = "order_by_name_asc" %}{% endunless %}

<section role="main" class="search-page general-page">
  <header class="grid">
    <div class="grid__item one--whole">
      <h3 class="general-title">{{'general.search' | translate}}</h3>
    </div>
  </header>
  <header class="grid">
    <div class="grid__item one--whole{% if search.size %} desk--one-half{% endif %}">
      <span>
        {{'search.results' | t}} '{{params.query}}':
        {% if search.size > 1 %}
        {{search.size}} {{'search.found' | t}}
        {% elsif search.size == 1 %}
        {{search.size}} {{'search.found_1' | t}}
        {% else %}
        {{'search.no_results' | t}}
        {% endif %}
      </span>
    </div>{% if search.size %}<!--
    --><div class="grid__item one--whole desk--one-half sorting">
      {% include 'sortable' %}
    </div>{% endif %}
  </header>

  {% if search.any? %}
  {% paginate search[order] by 12 %}
  <div class="page-content grid">
    {% for product in paginate.collection %}
    {% include 'list_product' with 'page' %}
    {% endfor %}
  </div>
  {% include 'pagination' %}
  {% endpaginate %}
  {% endif %}
</section>
