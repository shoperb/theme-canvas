{% assign address = section.settings.address | replace: ' ', '%20' | replace: ',', '%2C' %}

<section data-section-id="{{section.id}}" data-type="location-and-contact"{% if section.settings.section_width == 'full-width' %} class="full-width"{% endif %}>

  <div class="map-container">
    <iframe width="100%" height="100%" frameborder="0" class="scrolloff" style="border:0" src="https://www.google.com/maps/embed/v1/place?key={{section.settings.gmaps_api_key}} &q={{address}}" allowfullscreen></iframe>
  </div>

  <div class="map-description">
    <div class="map-details">
      {% if section.settings.title != blank %}
      <h2 class="general-title" data-theme-editor-setting="title" >{{section.settings.title}}</h2>
      {% endif %}

      {% if section.settings.text != blank %}
      <div class="text-content general-text" data-theme-editor-setting="text" >{{section.settings.text}}</div>
      {% endif %}
    </div>
  </div>

  <script>
    $(document).ready(function() {
      var selector = "[data-section-id='{{section.id}}'][data-type='location-and-contact'] .map-container";

      $(selector).on('click', function () {
        $('iframe', this).removeClass('scrolloff'); // set the pointer events true on click
      });

      $(selector).mouseleave(function () {
        $('iframe', this).addClass('scrolloff'); // set the pointer events to none when mouse leaves the map area
      });
    });
  </script>
</section>
