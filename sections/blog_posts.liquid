<section data-section-id="{{section.id}}" data-type="blog-posts"{% if section.settings.section_width == 'full-width' %} class="full-width"{% endif %}>
  {% if section.settings.title != blank %}
  <h2 class="general-title" data-theme-editor-setting="title" >{{section.settings.title}}</h2>
  {% endif %}

  <div class="grid">
    {% if blog_posts.size == 0 %}
    {% for post in blog_posts limit: {{section.settings.grid}} %}
    {% if forloop.first != true %}-->{% endif %}<div class="grid__item one-whole lap--one-half desk--one-third">
      <div class="text-column">

        {% if post.name %}
        <h2 class="general-title">{{post.name}}</h2>
        {% endif %}

        {% if post.author and section.settings.show_author %}
        <h3 class="post-author">{{post.author}}</h3>
        {% endif %}

        {% if post.date and section.settings.show_date %}
        <h3 class="post-date">{{post.date}}</h3>
        {% endif %}

        {% if post.content %}
        <div class="text-column-text">{{post.content | strip_html | truncate: 150, '...'}}</div>
        {% endif %}

        <a role="button" class="button secondary" href="{{post.url}}">{{'section.default.read_more' | t}}</a>
      </div>
    </div>{% if forloop.last != true %}<!--{% endif %}
    {% endfor %}
    {% else %}

    {% comment %} default view for builder {% endcomment %}

    {% for post in (1..12) limit: {{section.settings.grid}} %}
    {% if forloop.first != true %}-->{% endif %}<div class="grid__item one-whole lap--one-half desk--one-third">
      <div class="text-column">

        <h2 class="general-title">{{'section.default.blog_post.blog_post_title' | t}}</h2>

        {% if section.settings.show_author %}
        <h3 class="post-author">{{'section.default.blog_post.blog_post_author' | t}}</h3>
        {% endif %}

        {% if section.settings.show_date %}
        <h3 class="post-date">{{'section.default.blog_post.blog_post_date' | t}}</h3>
        {% endif %}

        <div class="text-column-text">{{'section.default.blog_post.blog_post_content' | t}}</div>

        <a role="button" class="button secondary" href="{{post.url}}">{{'section.default.read_more' | t}}</a>
      </div>
    </div>{% if forloop.last != true %}<!--{% endif %}
    {% endfor %}

    {% endif %}
  </div>

  {% if section.settings.show_button == true %}
  <div class="buttons">
    <a href="/blog" role="button" class="button primary">{{'section.default.view_all' | t}}</a>
  </div>
  {% endif %}

</section>
